<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="program_enrol_export_selected_csv" model="ir.actions.report">
        <field name="name">Export Selected To CSV</field>
        <field name="model">openg2p.program.enrollment</field>
        <field name="report_type">csv</field>
        <field name="report_name">csv.program.enrollment</field>
        <field name="binding_model_id" ref="openg2p_program.model_openg2p_program_enrollment"/>
        <field name="print_report_name">'openg2p.program.enrollment'</field>
        <field name="attachment_use">False</field>
    </record>

    <record id="ben_export_selected_csv" model="ir.actions.report">
        <field name="name">Export Selected To CSV</field>
        <field name="model">openg2p.beneficiary</field>
        <field name="report_type">csv</field>
        <field name="report_name">csv.beneficiary</field>
        <field name="binding_model_id" ref="openg2p.model_openg2p_beneficiary"/>
        <field name="print_report_name">'openg2p.beneficiary'</field>
        <field name="attachment_use">False</field>
    </record>

    <record id="export_csv_prog_enroll_all_server" model="ir.actions.server">
        <field name="name">Export All To CSV</field>
        <field name="model_id" ref="openg2p_program.model_openg2p_program_enrollment"/>
        <field name="binding_model_id" ref="openg2p_program.model_openg2p_program_enrollment"/>
        <field name="binding_type">report</field>
        <field name="groups">openg2p.group_openg2p_officer,openg2p_program.group_openg2p_program_enrollment_manager</field>
        <field name="state">code</field>
        <field name="code">
            if records:
                active_domain = records._context.get("active_domain",[])
                active_ids = records._context.get("active_ids",[])
                data = {
                    "use_active_domain": "true",
                    "active_domain": active_domain,
                    "active_ids": active_ids,
                }
                action = env.ref("openg2p_program.program_enrol_export_selected_csv").report_action([], data=data)
        </field>
    </record>

    <record id="export_csv_ben_all_server" model="ir.actions.server">
        <field name="name">Export All To CSV</field>
        <field name="model_id" ref="openg2p.model_openg2p_beneficiary"/>
        <field name="binding_model_id" ref="openg2p.model_openg2p_beneficiary"/>
        <field name="binding_type">report</field>
        <field name="groups">openg2p.group_openg2p_officer,openg2p_program.group_openg2p_program_enrollment_manager</field>
        <field name="state">code</field>
        <field name="code">
            if records:
                active_domain = records._context.get("active_domain",[])
                active_ids = records._context.get("active_ids",[])
                data = {
                    "use_active_domain": "true",
                    "active_domain": active_domain,
                    "active_ids": active_ids,
                }
                action = env.ref("openg2p_program.ben_export_selected_csv").report_action([], data=data)
        </field>
    </record>
    <!-- <report 
        id="program_enrol_export_selection_csv"
        model="openg2p.program.enrollment"
        name="csv.program.enrollment"
        string="Export Selected To CSV"
        report_type="csv"
        file="openg2p.program.enrollment"
        attachment_use="False"
        groups="openg2p_program.group_openg2p_program_enrollment_manager"
    /> -->
</odoo>